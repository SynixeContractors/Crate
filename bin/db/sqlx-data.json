{
  "db": "PostgreSQL",
  "0279d05fdc27ad1fd760b385c1afd68e1fe176ee9721320e56b2e2148ad9adda": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Int4",
          "Bool"
        ]
      }
    },
    "query": "INSERT INTO gear_bank_purchases (member, class, quantity, global, cost) VALUES ($1, $2, $3, $4, (SELECT cost FROM gear_item_current_cost($2)))"
  },
  "031d9ed2a6dd08f32de745818187dd8910cf606bcc65c8913d2ba0602efc2235": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO gear_loadouts (member, loadout) VALUES ($1, $2) ON CONFLICT (member) DO UPDATE SET loadout = $2"
  },
  "0fc759e45e10623b0c00cf2f4c294c9a4038d33cb1f24bbebdd75a3ed8939c88": {
    "describe": {
      "columns": [
        {
          "name": "class",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "global",
          "ordinal": 1,
          "type_info": "Bool"
        },
        {
          "name": "base",
          "ordinal": 2,
          "type_info": "Int4"
        },
        {
          "name": "cost",
          "ordinal": 3,
          "type_info": "Int4"
        },
        {
          "name": "end_date",
          "ordinal": 4,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        null,
        null,
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT i.class, i.global, gear_item_base_cost(i.class) as base, c.cost, c.end_date FROM gear_items i, LATERAL gear_item_current_cost(i.class) c"
  },
  "1064a304ef408c4e242dc6c47c5ffcdf9ab3ec43d250657a63a8fa7de78966f8": {
    "describe": {
      "columns": [
        {
          "name": "valid_for",
          "ordinal": 0,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n                        SELECT\n                            valid_for\n                        FROM\n                            certifications\n                        WHERE\n                            id = $1"
  },
  "165e8bb618e01c43e99f410ac787d060adb26ca332d2e5abd7f50f62a1cc9062": {
    "describe": {
      "columns": [
        {
          "name": "value",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT balance as value FROM gear_bank_balance_cache WHERE member = $1"
  },
  "1de41f7aead3bb3e5e5923d1d88ea092d9b9faf91ddc4e451095148128a0b84f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Int4",
          "Varchar"
        ]
      }
    },
    "query": "INSERT INTO gear_bank_transfers (source, target, amount, reason) VALUES ($1, $2, $3, $4)"
  },
  "2544ffe125f3c24b5fa9fe3f5ed9fb9259703583597ed963af5c2ab9ee43bade": {
    "describe": {
      "columns": [
        {
          "name": "value",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT loadout as value FROM gear_loadouts WHERE member = $1"
  },
  "29bd5dde564a4342adffd8728f6097f41db1c1cd23a89c0bc5284d3d09be79ba": {
    "describe": {
      "columns": [
        {
          "name": "value",
          "ordinal": 0,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Timestamptz"
        ]
      }
    },
    "query": "SELECT EXISTS(SELECT 1 FROM missions_schedule WHERE start = $1) as value"
  },
  "4efaab44dd6e786c4182108767fa7d5d41160284492c6e6acb365b6eb7a6a3d9": {
    "describe": {
      "columns": [
        {
          "name": "global",
          "ordinal": 0,
          "type_info": "Bool"
        },
        {
          "name": "base",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "cost",
          "ordinal": 2,
          "type_info": "Int4"
        },
        {
          "name": "end_date",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        null,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT i.global, gear_item_base_cost(i.class) as base, c.cost, c.end_date FROM gear_items i, LATERAL gear_item_current_cost(i.class) c WHERE i.class = $1"
  },
  "599656998a4b7d69c2f86e6415712a7c2cb5d133d56fc3335c8cb187c89e4b42": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar"
        ]
      }
    },
    "query": "INSERT INTO recruitment_seen (link) VALUES ($1) ON CONFLICT (link) DO UPDATE SET created = NOW()"
  },
  "5c15a2c4fcf938e63fd5f83d38c83e7a72e4d6e4d73cc27251a05e648a1f9f6a": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "summary",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "typ: MissionType",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "contract",
                  "subcontract",
                  "training",
                  "special",
                  "other"
                ]
              },
              "name": "mission_type"
            }
          }
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT id, name, summary, description, type as \"typ: MissionType\" FROM missions WHERE id = $1"
  },
  "640b8e8639f83b99f78f66d250b2d63859c65159bd6eaa83a54fb95333a33080": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "link",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "roles_required",
          "ordinal": 3,
          "type_info": "VarcharArray"
        },
        {
          "name": "roles_granted",
          "ordinal": 4,
          "type_info": "VarcharArray"
        },
        {
          "name": "valid_for",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "created",
          "ordinal": 6,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n                        SELECT\n                            id,\n                            name,\n                            link,\n                            roles_required,\n                            roles_granted,\n                            valid_for,\n                            created\n                        FROM\n                            certifications"
  },
  "6cc6995e52aae1b6cb67db83edd8da57a70a3a2f2aa79deb29f44fd6fc3b620c": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "instructor",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "trainee",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "certification",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "notes",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "passed",
          "ordinal": 5,
          "type_info": "Bool"
        },
        {
          "name": "valid_for",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "valid_until",
          "ordinal": 7,
          "type_info": "Timestamptz"
        },
        {
          "name": "created",
          "ordinal": 8,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Uuid",
          "Text",
          "Int4"
        ]
      }
    },
    "query": "\n                            INSERT INTO\n                                certifications_trials\n                                (instructor, trainee, certification, notes, passed, valid_for)\n                            VALUES\n                                ($1, $2, $3, $4, true, $5)\n                            RETURNING\n                                id,\n                                instructor,\n                                trainee,\n                                certification,\n                                notes,\n                                passed,\n                                valid_for,\n                                valid_until,\n                                created"
  },
  "713a1d9e5f789e6d6c953a9d3441c676b8df41086b7091775b2c94f4eb286982": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Int4"
        ]
      }
    },
    "query": "INSERT INTO gear_locker_log (member, class, quantity) VALUES ($1, $2, $3)"
  },
  "74b4ad57fbf2499c0504443e1104de2dfb57e63153dd8b4f739273fdc7196521": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "summary",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "typ: MissionType",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "contract",
                  "subcontract",
                  "training",
                  "special",
                  "other"
                ]
              },
              "name": "mission_type"
            }
          }
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT id, name, summary, description, type as \"typ: MissionType\" FROM missions WHERE LOWER(missions.name) LIKE $1 ORDER BY name ASC"
  },
  "76bd2f79cbddd70d7f6ba099f538122f733492f7ffd98eae404a11ebf776d8bd": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM missions_schedule WHERE id = $1"
  },
  "7d2f0431c6842dd17e6db00711f7b9caaed8a927b54e7ab88c45138c0463dd27": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Varchar",
          "Text",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "contract",
                  "subcontract",
                  "training",
                  "special",
                  "other"
                ]
              },
              "name": "mission_type"
            }
          }
        ]
      }
    },
    "query": "INSERT INTO missions (id, name, summary, description, type)\n                                    VALUES ($1, $2, $3, $4, $5)\n                                    ON CONFLICT (id) DO UPDATE SET\n                                        name = $2,\n                                        summary = $3,\n                                        description = $4,\n                                        type = $5"
  },
  "815617522fc3f0a9a5f494efd0416f0c840495523152f95ccad384167fbc22ec": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE missions_schedule SET schedule_message_id = $1 WHERE id = $2"
  },
  "847ee51076e7d2e7e0162cb6dc7f51b0147200878491d28eddf98b4c0f1bb307": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Int4",
          "Varchar",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO gear_bank_deposits (member, amount, reason, id) VALUES ($1, $2, $3, $4)"
  },
  "8f58acc714f280ed531e62dd5b77fe9afa6c3404f2e1b56c07c53185e415bd0b": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "link",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "roles_required",
          "ordinal": 3,
          "type_info": "VarcharArray"
        },
        {
          "name": "roles_granted",
          "ordinal": 4,
          "type_info": "VarcharArray"
        },
        {
          "name": "valid_for",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "created",
          "ordinal": 6,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "\n                        SELECT\n                            c.id,\n                            c.name,\n                            c.link,\n                            c.roles_required,\n                            c.roles_granted,\n                            c.valid_for,\n                            c.created\n                        FROM\n                            certifications c\n                        INNER JOIN\n                            certifications_instructors ci\n                        ON\n                            ci.certification = c.id\n                        WHERE\n                            ci.member = $1"
  },
  "90d25f88b2381440574f4faff88ea6f7630cb23862ce315f3a2808b8557c00d0": {
    "describe": {
      "columns": [
        {
          "name": "value",
          "ordinal": 0,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n                    SELECT\n                        name as value\n                    FROM\n                        certifications\n                    WHERE\n                        id = $1"
  },
  "9aa63099fbc7a77334cb7bbb8c7dc477de4ef4e88b30e18696d3d466da3da426": {
    "describe": {
      "columns": [
        {
          "name": "value",
          "ordinal": 0,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT EXISTS(SELECT 1 FROM recruitment_replied WHERE link = $1) as value"
  },
  "c60864b08b9c5a73c6c67386be6ef4abdb9a0af733b3737d9a244c25bcbbffe8": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "summary",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "typ: MissionType",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "contract",
                  "subcontract",
                  "training",
                  "special",
                  "other"
                ]
              },
              "name": "mission_type"
            }
          }
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT missions.id, name, summary, description, type as \"typ: MissionType\" FROM missions LEFT JOIN missions_schedule on missions.id = missions_schedule.mission WHERE missions_schedule.mission is NULL AND LOWER(missions.name) LIKE $1 ORDER BY name ASC"
  },
  "cc56249e54fdbc70d7821b669133f9aa8bca7582c719e14a003c877b53b53efd": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Timestamptz"
        ]
      }
    },
    "query": "INSERT INTO missions_schedule (mission, start) VALUES ($1, $2)"
  },
  "d1c8e3ee1a6be107baaaf1b068d6946b7c62f3db5219ebf34c8fecf584d95f3b": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "instructor",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "trainee",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "certification",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "notes",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "passed",
          "ordinal": 5,
          "type_info": "Bool"
        },
        {
          "name": "valid_for",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "valid_until",
          "ordinal": 7,
          "type_info": "Timestamptz"
        },
        {
          "name": "created",
          "ordinal": 8,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "\n                        SELECT\n                            id,\n                            instructor,\n                            trainee,\n                            certification,\n                            notes,\n                            passed,\n                            valid_for,\n                            valid_until,\n                            created\n                        FROM\n                            certifications_trials\n                        WHERE\n                            trainee = $1\n                            AND passed IS TRUE\n                            AND (valid_until > NOW() OR valid_until IS NULL)\n                        GROUP BY id ORDER BY created DESC"
  },
  "d4b22c007b1776085c8d65b791c2ad147f53d2548ad5aff73ab9c28a9bb0922c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar"
        ]
      }
    },
    "query": "INSERT INTO recruitment_replied (link) VALUES ($1) ON CONFLICT (link) DO UPDATE SET created = NOW()"
  },
  "d6723f891478fdee19415ea75d9e17745213002653d0dc00b4bea49b62f8fad5": {
    "describe": {
      "columns": [
        {
          "name": "value",
          "ordinal": 0,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT EXISTS(SELECT 1 FROM recruitment_seen WHERE link = $1) as value"
  },
  "dc9c428bc346fe4d412c80c129f2612b539bccfa726c4162bf790ac3cf4a97a0": {
    "describe": {
      "columns": [
        {
          "name": "instructor_certified!",
          "ordinal": 0,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "\n                        SELECT\n                            EXISTS(\n                                SELECT\n                                    1\n                                FROM\n                                    certifications_instructors\n                                WHERE\n                                    member = $1\n                                    AND certification = $2\n                            ) AS \"instructor_certified!\""
  },
  "e44bf77aa7feb47efc20fa54fa81fe1caa7295b3e2c632ea9af9d9a9cbab5e58": {
    "describe": {
      "columns": [
        {
          "name": "class",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "quantity",
          "ordinal": 1,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT class, quantity FROM gear_locker WHERE member = $1"
  },
  "f1e3f31795f5896c84277358eaf566083ab79a2da0293a7227255ece894d12e0": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "mission",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "schedule_message_id",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "start",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT * FROM missions_schedule WHERE start > NOW() ORDER BY start ASC"
  },
  "fa6b69f8918c2d69529145fdeb1afc796c7580005bdc84c52dd75b561cf5a072": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "instructor",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "trainee",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "certification",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "notes",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "passed",
          "ordinal": 5,
          "type_info": "Bool"
        },
        {
          "name": "valid_for",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "valid_until",
          "ordinal": 7,
          "type_info": "Timestamptz"
        },
        {
          "name": "created",
          "ordinal": 8,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n                            INSERT INTO\n                                certifications_trials\n                                (instructor, trainee, certification, notes, passed)\n                            VALUES\n                                ($1, $2, $3, $4, false)\n                            RETURNING\n                                id,\n                                instructor,\n                                trainee,\n                                certification,\n                                notes,\n                                passed,\n                                valid_for,\n                                valid_until,\n                                created"
  }
}